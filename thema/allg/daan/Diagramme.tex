%%
%% 2019 07 04 Ph. G. Freimann
%%

\section{Diagramme}\index{Diagramme}\index{Arten!von Diagrammen}
\sectuntertitel{Der Tod des Statistikers: Er watete über den Fluss mit
einer durchschnittlichen Wassertiefe von 30 cm.}

\TadBMTA{379}{24}
%%\TALSTadBFWA{251}{Diagrammarten}\index{Arten!von Diagrammen}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Lernziele}

\begin{itemize}
\item univariate Daten ordnen\index{Daten!univariate}
\item univariate Daten klassieren
\item relative und absolute Häufigkeiten
\item visualisieren/Diagramme
  \begin{itemize}
  \item Kreisdiagramme («Kuchendiagramme»)
  \item Balken- und Säulendiagramme
  \item Histogramme und Stängel-Blatt-Diagramm
  \item Boxplot (Kastengrafik)
  \end{itemize}
\end{itemize}


Neben einfachen Strichlisten und Tabellen
(inkl. Stängel-Blatt-Diagramm) bieten sich auch diverse 
graphische Möglichkeiten an, die Abhängigkeiten unter den Daten besser
zu erkennen.

\subsection{Diagrammarten}

Wir betrachten die folgenden Diagrammtypen:
\begin{itemize}
 \item Säulen- und Balkendiagramm
 \item Kreisdiagramm
 \item Streifenplot
 \item Histogramm
 \item Boxplot (Kastengrafik)
\end{itemize}

%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Säulen- und
  Balkendiagramme}\index{Saulendiagramm@Säulendiagramm}\index{Balkendiagramm}
\TadBMTA{380}{24.1}
Säulen und Balkendiagramme unterscheiden sich lediglich in der um $90^\circ$ gedrehten Ausrichtung:
\begin{center}
  \bbwGraphic{8cm}{allg/daan/img/saeulen.jpg} 
  \bbwGraphic{8cm}{allg/daan/img/balken.jpg}
\end{center}
Beide obigen Diagramme stammen aus \cite{marthaler21alg}.

\GESO{\subsection*{Aufgaben}
Balkendiagramm:
  
  \olatLinkGESOKompendium{4.4.}{38ff}{7.}
}%% end GESO
\newpage

%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Kreisdiagramm}\index{Kreisdiagramm}
\TadBMTA{381}{24.2}
Kreisdiagramme geben die prozentuale Verteilung der einzelnen Merkmalsausprägungen statt. Dabei ist der Winkel proportionale zur Bogenlänge, aber auch Proportional zur Fläche, wie auch zu den gemessenen relativen Häufigkeiten:

\bbwCenterGraphic{5cm}{allg/daan/img/kuchen.jpg}

Abbildung aus \cite{marthaler21alg}
\newpage

%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%555
%%\subsubsection{Häufigkeiten und Prozente}\index{Prozente}\index{Häufigkeit}
\subsubsection{Relative vs. absolute Häufigkeiten}\index{Häufigkeit!relativ vs. absolut}\index{relative Häufigkeit}\index{absolute Häufigkeit}
\TadBMTA{379}{24}
%%\TALSTadBFWA{250}{4.2}

Bevor wir die Daten darstellen, sollten wir diese von absoluten in
relative Häufigkeiten einteilen. So hat zum Beispiel eine Zählung an
\textbf{44 Schülerinnen bzw Schülern} der BMS ergeben, dass \textbf{31
  davon ein Apple} Mobiltelephon besitzen. Somit ist der Stichprobenumfang 44 und wird mit $n$
bezeichnet. Die absolute Häufigkeit von Apple sei mit $h_i$
bezeichnet. Die \textbf{relative} Häufigkeit in \% ist
jedoch meist aussagekräftiger.

Umrechnungen:

\begin{tabular}{|c|c|c|p{8cm}|}
  \hline
  $n$   &   &  &\textbf{Stichprobenumfang}: $n$ ist im obigen Beispiel \LoesungsRaum{$44$}.\\
  \hline
  $h_i$ & $[0 ... n]$  & & \textbf{Absolute Häufigkeit}: Für Apple (unsere untersuchte
  Gruppe) ist $h_i=h_1=\LoesungsRaum{31}$. Der Index $i$ ist einfach eine beliebige
  Nummerierung, so könnten wir auch «Apple» als $2$ festlegen und dann
  wäre $h_i=h_2$.\\
  \hline
  $f_i$ & $[0 ... 1]$ &$f_i = \frac{h_i}{n}$ & \textbf{Relative
  Häufigkeit als Faktor}: Diese Dezimalzahl ist immer zwischen 0 und 1. So
  bedeutet $f_i=\LoesungsRaum{0.7045}$, dass das die Merkmalsausprägung mit 70.45\%
  Häufigkeit vorkommt.\\
  \hline
  $p_i$ & $[0 ... 100\%]$ & $p_i = f_i\cdot{}100\% =
  \frac{100\%}{n}\cdot{}h_i$ & Die \textbf{Relative Häufigkeit als Prozentzahl} ist
  die gebräuchlichste. So haben unsere iPhone Besitzer eine
  prozentuale Merkmalsausprägung von \LoesungsRaumLang{$70.45\%$}
  ($=\frac{h_i}{n}\cdot{}100\%$).\\
  \hline
  $\varphi_i$ & $[0 ... 360^{\circ}]$ & $\varphi_i = f_i\cdot{}360^\circ
  = p_i\cdot{}3.6^\circ$ &
  \textbf{Zentriwinkel} oder \textbf{Sektorwinkel}. Dieser Winkel gibt an, wie viel Grad
  der Sektor im Kuchendiagramm gezeichnet werden muss.
  In unserem Beispiel ist $\varphi_i = \LoesungsRaum{253.6}\degre$\\
  \hline
\end{tabular}

  \newpage
  \subsection*{Aufgaben}
  Kreisdiagramm:
  
  \AadBMTA{402}{10. und 12.}


\newpage


%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Streifenplot (optional)}\index{Streifenplot}
\TadBMTA{382}{24.3}
Der Streifenplot kann auch stetige Werte relativ genau wiedergeben. Damit Häufigkeiten zur Geltung kommen, wird oft (wie im folgenden) eine leicht verwackelte Darstellung gewählt. Ansonsten würden exakt die selben Messwerte zu lediglich je einem Ringlein verschmelzen:

\bbwCenterGraphic{12cm}{allg/daan/img/streifenplot.jpg}

Abbildung aus \cite{marthaler21alg}
\newpage



%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Histogramm}\index{Histogramm}
\TadBMTA{382}{24.4}
%%\TALSTadBFWA{259}{4.4}

Das folgende Histogramm zeigt die Pulsverteilung dreier BMS Klassen im Jahr 2019. Das Diagramm wurde online erstellt:

\bbwCenterGraphic{9cm}{allg/daan/img/histogram.png}

Erstellt online mit:

\texttt{http://www.shodor.org/interactivate/activities/Histogram/}

\newpage


\subsubsection{Anforderungen an ein Histogramm}
\begin{itemize}
\item \TNDF{Histogramme benötigen quantitative Daten (Intervall, Verhältnis).\footnote{Rein nominale
  oder rein ordinale Daten reichen nicht aus, da die Intervalle
  [Abstände] hier relevant sind.}}
  \vspace{8mm}
\item \TNDF{Die $y$-Achse zeigt die Anzahl Werte zwischen den Säulengrenzen.}
  \vspace{8mm}
  \item Anzahlen wahlweise \textbf{absolut} oder \textbf{relativ}
\end{itemize}

\subsubsection{Faustregeln für ein gutes Histogramm}
\begin{itemize}
\item \TNDF{Für guten Überblick: fünf bis zwanzig Säulen. Ausgangslage
  $\sqrt{n}$ mit $n$ = Stichprobenumfang}
\item \TNDF{Alle Säulen berühren sich und sind gleich breit.}\vspace{10mm}
\item \TNDF{Fällt ein Messwert genau auf die Säulengrenze, ist dieser stets
  in die rechte Säule aufzunehmen\footnote{Der Messwert auf der
    Säulengrenze kann natürlich auch in die linke Säule aufgenommen
    werden; dann müssen jedoch auch alle solchen Messwerte gleich
    behandelt werden. Einige Darstellungen zählen solche Werte in
    beiden angrenzenden Säulen zu je 50\%.}.}

\TRAINER{  Beispiel $[5;10[ \hspace{20mm} [10;15[ \hspace{20mm}   [15;20[ \hspace{20mm}...$}
            
  \vspace{10mm}
\item \TNDF{Klassengrenzen sind einfache Werte: (5, 10, 15, ...) und
  nicht (7.34, 8.92, 10.50, ...).}\vspace{10mm}
\end{itemize}
\newpage
\subsubsection{Begriffe}
\begin{itemize}
\item linksschief\index{linksschief}, rechtsschief\index{rechtsschief}, symmetrisch
\item unimodal\index{unimodal}, multimodal\index{multimodal} (inkl. bimodal\index{bimodal})
\end{itemize}

\noTRAINER{ \bbwCenterGraphic{14cm}{allg/daan/img/lochergut.jpg}}
\TRAINER{ \bbwCenterGraphic{6cm}{allg/daan/img/lochergut.jpg}}
\begin{center}\small{Legende: Lochergut Zürich 2024: unimodal,
    linkssteil, rechtsschief}\end{center}


\newpage

\subsection*{Aufgaben}
  \AadBMTA{404ff}{22. und zu den Begriffen: 17.}

  \TALS{\aufgabenFarbe{Alte Maturaaufgaben: 2017 Aufg. 7; 2020 Aufg. 6
  und 2021 Aufg. 6}}
  
\olatLinkGESOKompendium{4.4}{40}{9. a) 11.}

\TRAINER{Bei allen Klassen hat es im OLAT Kurs noch alte
  Maturaaufgaben zum Histogramm.}
  


%%\TALS{\subsection*{Aufgaben}
%%\TALSAadBMTA{S. 261}{974. a) (Taschenrechner) 975. (Taschenrechner)}
%%}
\newpage

%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Boxplot (Kastengrafik)}\index{Boxplot}\index{Kastengrafik}
\TadBMTA{385}{24.5}
%%\TALSTadBFWA{263}{4.5}

\begin{beispiel}{Boxplot erstellen}{}
  Gegeben sind die folgenden Daten auf einer Intervallskala:\\
  7, 19, 9, 32, 9, 11, 13, 15, 15
\end{beispiel}

\begin{enumerate}

\item Daten sortieren: \LoesungsRaumLang{7, 9, 9, 11, 13, 15, 15, 19, 32}

\item Kenngrößen bestimmen: \LoesungsRaum{Min=7, Q1 = 9, $\mediantilde{x} =
  13$, Q3=17, Max=32}
  \vspace{5mm}
  
\item Skala und Box zeichnen\TRAINER{s. unten}

\item Boxbreite: IQR (interquartile range) rechnen =
  \LoesungsRaumLang{17-9 = 8}
\item Max. Whisker-Länge (MWL) = IQR $\cdot{} 1.5 = \LoesungsRaum{12}$
  
\item Beide Ausreißerschwellen bei MWL ab Boxende andeuten:

  obere Ausreißerschwelle = Q3 + MWL = \LoesungsRaum{17+12=29}

  untere Ausreißerschwelle = Q1 - MWL = \LoesungsRaum{9-12=-3}

  \item Von den Ausreißerschwellen \textit{nach außen} gehen und
    Ausreißer einzeichnen: \LoesungsRaum{32}

  \item \textit{Nach innen} gehen und Whisker suchen:
    \LoesungsRaum{19} und \LoesungsRaum{7}
    
  \item Ausreißerschwellen ausradieren
\end{enumerate}


\TRAINER{%%
  \texttt{Interaktive Webseite zum Boxplot}
  
\texttt{https://www.freimann.eu/eliphi/phi/boxplot/BoxPlot.html}
}%% END TRAINER

\TNTeop{\bbwCenterGraphic{14cm}{allg/daan/img/BoxplotBeispiel.png}}

\subsubsection{Rezept}
%%\bbwCenterGraphic{12cm}{allg/daan/img/BoxplotMitStreudiagramm3.pdf}
%%\bbwCenterGraphic{18cm}{allg/daan/img/BoxplotMitStreudiagramm3.png}
\bbwCenterGraphic{18cm}{allg/daan/img/boxplotHECH.png}

%%Boxplots können direkt online erstellt werden. Zum Beispiel hier:\\


\begin{rezept}{}{}
  \begin{enumerate}
    \item Daten sortieren
  \item Kenngrößen bestimmen (ev. TR\footnote{Die wichtigsten Kenngrößen für den Boxplot können mit dem Taschenrechner berechnet werden. Lassen Sie sich von Ihrer Lehrperson ein Beispiel vorrechnen.}): Min., Q1\footnote{Q1 = untere
    Quartilsgrenze; Q3 = obere Quartilsgrenze}, $\mediantilde{x}$ (=Median\index{Median}),  Q3, Max.
  \item Skala und Box zeichnen
  \item IQR\footnote{IQR = inter quartile range} = Q3 - Q1
    berechnen (IQR = Boxbreite)
    \item Maximale Whiskerlänge\index{Whisker} MWL = IQR $\cdot{}$ 1.5
  \item Beide Ausreißerschwellen\footnote{OAS = obere Ausreißerschwelle; UAS = untere Ausreißerschwelle} bei MWL je ab Boxende andeuten:\\
    UAS = Q1 - MWL und OAS = Q3 + MWL
  \item Von den Ausreißerschwellen \textit{nach außen} gehen und
    Ausreißer einzeichnen (rot)
  \item \textit{Nach innen} gehen und Whisker suchen (grün)
  \item Ausreißerschwellen ausradieren
  \end{enumerate}
\end{rezept}
\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsubsection{Erstellen von Boxplots mittels GeoGebra}
\begin{enumerate}
\item Starte den Rechner auf \texttt{geogebra.org}.
\item Erzeuge eine Datenreihe z.\,B.:

\texttt{data=\{2,4,4,5,4.4,4.8,5.5,3.4,9\}}


\item Erzeuge einen Boxplot auf y-Höhe 1.3 mit einer Höhe von
  $2\cdot{}0.8$ Einheiten. Ausreißer sollen wie erwähnt angezeigt
  werden:

  \texttt{BoxPlot(1.3, 0.8, data, true)}

\item fertig:

  \bbwCenterGraphic{8cm}{allg/daan/img/BoxPlotGeoGebra.png}

  
\end{enumerate}

\subsection*{Aufgaben}
%%  OLAT Arbeitsblatt
\GESO{\olatLinkArbeitsblatt{Boxplot}{https://olat.bms-w.ch/auth/RepositoryEntry/6029794/CourseNode/102368600014679}{(alle Beispiele)}}%% END olatLinkArbeitsblatt
\TALS{\olatLinkArbeitsblatt{Boxplot}{https://olat.bms-w.ch/auth/RepositoryEntry/6029786/CourseNode/102368600021033}{(alle Beispiele)}}%% END olatLinkArbeitsblatt


%%\TALSAadBFWA{264ff}{979. 980. 983. 984. 985. 989.}

\AadBMTA{408}{37.}
\olatLinkGESOKompendium{4.4}{38}{8. (ohne 8. d), 9. b) und 10.}
\TRAINER{falls der Modus noch nicht behandelt wurde: GESO Kompendium-Aufgabe 9. und 10.}
\newpage

%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
