%% Makros for Kompendium


%% Text nur bei deutscher Sprache ausgeben:
\NewDocumentCommand{\deu}{m}{%
\ifthenelse{\equal{\kLanguage}{deu}}{%%
{#1}}{%%
}%% end ifthenelse
}% end deu

%% Text nur bei englischer Sprache ausgeben:
\NewDocumentCommand{\eng}{m}{%
\ifthenelse{\equal{\kLanguage}{eng}}{%%
{#1}}{%%
}%% end ifthenelse
}% end eng


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%5
\newcounter{aufgabenNummer}
\setcounter{aufgabenNummer}{1}


\NewDocumentCommand{\isLoesungen}{m}{%%
\ifthenelse{\equal{\kLoesungen}{true}}{%%
#1}{%%
}%% end ifthenelse
}%%

\NewDocumentCommand{\isAufgaben}{m}{%%
\ifthenelse{\equal{\kLoesungen}{false}}{%%
#1}{%%
}%% end ifthenelse
}%% end IS Aufgaben


\newcommand{\mmPapierZwei}[2]{\begin{tikzpicture}
%%  \draw[step=4mm,bbwMMFarbe,ultra thin]
%%  \draw[step=4mm,bbwMMFarbe,thick]
  \draw[step=5mm,gray,line width=0.02mm]
  (0, 0) grid ({#2}, {#1});
\end{tikzpicture}}%%



\NewDocumentCommand{\isMMPapier}{m}{%%
  \ifthenelse{\equal{\kMMPapier}{true}}{%%
    
    \mmPapierZwei{#1}{17.0}

}{%%
}%% end ifthenelse
}%%

\newcommand{\nurNiveauBMP}[1]{%%
\ifthenelse{\equal{\kAufgabenNiveau}{bmp}}{%%
#1
}%% end ifthenelse
}%%

\newcommand{\auchTrainingsAufgabe}[1]{%%
\ifthenelse{\equal{\kAufgabenNiveau}{bmp}}{%%
%% Aufgabennummern durchnummerieren, auch wenn keine Trainingsaufgaben
%% ausdedruckt werden
\stepcounter{aufgabenNummer}%%
}{%%
#1
}%% end ifthenelse
}%%

\newcommand{\fragenMarkierung}{}

%% Kompendium Aufgaben
%% #1 : Aufgabentext
%% #2 : Lösungstext
%% #3 : Optional, 

%% Jedes Kapitel beginnt mit neuen Buchstaben.
%% Algebra hat Aufgabne A1, A2. ,,, Funktionen F1, F2, ...
%%
\newcommand{\kAufgabenBuchstabe}{0}
\newcommand{\kMetaAufgabe}[3]{%%
  \kAufgabenBuchstabe{}\,\arabic{aufgabenNummer}. \fragenMarkierung{}:
  \isLoesungen{{\color{blue}#2}}\isAufgaben{#1}\stepcounter{aufgabenNummer}
  \isMMPapier{#3}
  \vspace{2mm}
}%% end kaufgabe

\newcommand{\kNiveauAufgabe}[3]{%%
%%\nurNiveauBMP{\kMetaAufgabe{#1}{#2}{#3}}%%
\renewcommand{\fragenMarkierung}{\colorbox{red!30}{(B)}}
\kMetaAufgabe{#1}{#2}{#3}%%
}%% end kaufgabe

\newcommand{\kTrainingAufgabe}[3]{%%
\renewcommand{\fragenMarkierung}{\colorbox{blue!30}{(E)}}
\auchTrainingsAufgabe{\kMetaAufgabe{#1}{#2}{#3}}%%
}%% end kaufgabe


\renewcommand{\indexname}{\deu{Stichwortverzeichnis}\eng{Index}}%%

%% Layout erste Seite
\newcommand{\printKFirstPage}{%%
  \thispagestyle{empty}
  \begin{center} {\huge{Kompendium}} \end{center}

  \vspace{10mm}
  
  \begin{center} {\large{GESO}} \end{center}

  \begin{center}
    \isLoesungen{\deu{Lösungsteil}\eng{Solutions}}
    \isAufgaben{\deu{Aufgabenteil}\eng{translate: Excercises}}
  \end{center}

  \vspace{10mm}

  \begin{center} \deu{deutsche Version} \eng{english version} \end{center}
  \vspace{10mm}

\vspace{60mm}

\begin{center}\begin{small} \deu{Autoren} \eng{Authors}\\
Susanne Wagner (susanne.wagner@bms-zuerich.ch)\\
Thomas Fellmann (thomas.fellmann@bms-zuerich.ch)\\
Mirjam Bräm, Wolfgang Pfalzgraf, Ulrike Gruber
Urs Vonaesch\\
Christian Hersberger (christian.hersberger@bmwin.ch)\\
Phlipp Freimann (philipp.freimann@bmwin.ch) \end{small}
  \end{center}


  \vspace{20mm}

  \begin{center}Kantonale Ausgabe \kVersion{} Kanton Zürich \end{center}

  
\newpage

  \ifthenelse{\equal{\kAufgabenNiveau}{bmp}}{%% nothing
}{%%
 \deu{Mit {\colorbox{blue!30}{(E)}} gekennzeichnete Aufgaben dienen
lediglich dem Training als Einstiegsaufgaben.\\
Mit \colorbox{red!30}{(B)} gekennzeichnete Aufgaben haben das Niveau
  der BMP (Berufsmaturitätsprüfung).
}%% end deu

\eng{Questions having \colorbox{blue!30}{(E)} are only for
    training purpouse.\\
Questions marked with  \colorbox{red!30}{(B)} have the level BMP (Berufsmaturitätsprüfung).
}%% end printKFirstPage
}%% end if Unterscheidung BMP

\newpage
\tableofcontents{}
\newpage
\pagestyle{fancy}
}%% end firstPage


\input{matheMakros}

%% Aufgaben die entfernt werden, können durchaus im Kompendium
%% Qulltext bleiben.
\newcommand{\entfernteAufgabe}[3]{}
